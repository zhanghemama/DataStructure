极客时间学习笔记之堆

# 堆
堆是一个完全二叉树，堆中每个节点的值必须大于等于（或者小于等于）其子树中每个节点的值；对于每个节点都大于等于子树中每个节点值的堆，叫做大顶堆；对于每个节点的值都小于等于子树中每个节点值的堆，叫做小顶堆；一般用数组来存储堆；
数组的index为0的元素是空的，下标为i的左子节点就是下标为2*i的节点，右子节点是下标为2*i+1的节点，父节点是i/2的节点；

# 往堆上插入一个元素
每次插入一个元素后，我们需要继续满足堆的特性，让其重新满足堆的特性的操作叫做堆化；堆化实际上有两种，一个是从下往上，一个是从上往下；
插入元素后的堆化，我们采用从下往上的方法，顺着节点所在的路径，向上跟父节点比较，比父节点大就交换，然后继续这个过程，直到父子节点满足堆的特性；

# 删除堆顶元素
删除堆顶元素，我们采用从上往下的堆化方法；我们把最后一个元素放到堆顶，对堆顶元素进行向下堆化，从左右子节点中选出最大的元素与堆顶元素交换，然后从最大元素原来的位置开始继续刚才的操作，直到最大元素就是要处理的节点本身；

# 堆排序之建堆
1.插入元素的时候建堆
2.已经有一个数组，我们从第一个非叶子节点开始，依次向下堆化；

# 排序
建堆结束后，数组中的数据已经按照大顶堆的特性组织了；数组中第一个元素就是堆顶，是最大的元素，我们交换堆顶与最后一个元素的位置，然后对剩余的n-1个元素进行堆化；堆化完成后，再去堆顶元素，放在n-1的位置；一直重复这个过程，直到堆中只剩下一个元素，排序结束；

# 堆排序的缺点
1.堆排序，数据是跳着访问的；这样对CPU缓存是不友好的；快速排序是顺序访问的；
2.对于同样的数据，堆排序交换次数多于快速排序；快速排序数据交换的次数不会比逆序度多；但是堆排序第一步是建堆，建堆的过程中会打乱原有的先后顺序，导致原数据有序度降低，对于一组已经有序的数据，讲过建堆后数据反而无序了；
