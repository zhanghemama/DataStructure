极客时间学习笔记之插入冒泡排序，

#
如何分析一个排序算法，

#
算法的执行效率，有以下几个衡量标准，
1.最好，最坏，平均情况下的时间复杂度
我们在分析排序算法的时间复杂度的时候，要分出最好情况，最坏情况，平均情况下的时间复杂度，还要
给出这些情况下对应的数据是什么样的。

2.时间复杂度的系数，常数，低阶
我们知道，时间复杂度反应的是数据规模n很大的时候的一个增长趋势，所以它表示的时候会忽略系数，常数，
低阶，但是实际软件开发中，我们排序的可能是10，100，100这样规模很小的数据，所以对同一阶时间复杂
度的排序算法性能对比的时候，我们就要把系数，常数和低阶考虑进来。

3.比较次数和交换（移动）次数

排序算法基本都是基于比较的排序算法，基于比较的算法的执行过程，会涉及两种操作，一种是元素大小比较，
另一种是移动，交换，所以在分析算法执行效率的时候，应该把比较次数和交换，移动次数也考虑进来。


#
排序算法的内存消耗

算法的内存消耗用空间复杂度来衡量，针对排序算法的空间复杂度，我们引入一个新的概念，原地排序。
原地排序算法就是特指空间复杂度是O(1)的算法。

#
排序算法的稳定性，
这个指的是如果待排序序列中存在相等的元素，经过排序之后，相等怨毒之间原有的先后顺序不变。

比如，2，9，3，4，8，3排序后就是2，3，3，4，8，9
如果经过排序算法后，3的前后顺序不改变，那么算法就是稳定的排序算法；否则就是不稳定的排序算法；

排序算法稳定性的应用，
电商交易系统中的订单排序，订单有两个属性，一个是下单时间，一个是订单金额，我们希望的排序是
按照订单金额排序，订单金额相同则按照下单时间来排序；我们可以先按照订单的下单时间来排序，再
采用稳定的算法按照订单的金额来排序，第一次排序后订单按照下单时间早晚来排序，第二次采用的是
稳定算法，不会改变原来相同金额的订单的前后顺序，这样相同金额的就会按照下单时间先后来显示了。

#
几种排序算法，
1.冒泡排序，大致的思路是循环n次，每次使得一个元素到达它应该到达的位置。每一次循环都是相邻元素
两两比较，前面元素大于后面元素就交换，这样就可以使得此次循环中最大的元素到达正确的位置。如果
一次循环中没有元素交换，那就说明已经排好序了。
冒泡排序只涉及相邻元素的交换操作，只需要常量级的临时空间，空间复杂度是O(1)，是原地排序算法。
冒泡排序可以保证排序的稳定性，如果两个元素相等，可以不交换。
最好的情况下，原数组已经有序了，这时候的时间复杂度是O(n)，最好的情况下时间复杂度是O(n)。而最坏的
情况下，原数组是逆序的，需要进行n次冒泡操作，时间复杂度是O(n^2).

通过有序度来计算平均时间复杂度，有序度是数组中具有有序关系的元素对的个数，用数学公式表示就是，
有序元素对：a[i] <= a[j], 如果 i < j。
如果一个数组完全有序，则有序度是n*(n-1)/2，这种数组的有序度叫做满有序度。完全没序的数组有序度是0.
逆序度=满有序度-有序度。排序的过程就是减小逆序度的过程，最后达到满有序度，这样排序就完成了。冒泡
排序每一次交换有序度增加1，所以一共交换的次数就是逆序度的值。最坏的情况下，需要交换n*(n-1)/2次，平
均值我们可以取n*(n-1)/4，那么平均时间复杂度就是O(n^2)。

2.插入排序，大致的思路是每一次都把元素插到正确的位置上。把数组分成两个区间，已排序区间和未排序区间，
初始已排序区间只有第一个元素，每一次的循环，从未排序区间中取一个元素插到正确的位置。一直保持已排序
的区间有序，n次循环后未排序区间中元素为空，排序结束。插入排序包含两种操作，元素比较和元素移动。我们
将元素a插入到已排序区间中，需要把a和已排序区间中的元素做比较，找到合适的位置插进去，a后面的元素要
依次后移。插入排序数据移动的次数等于它的逆序度。

插入排序也不需要额外的存储空间，是原地排序算法；它也可以保证稳定性，对于值相同的元素，我们可以将后
出现的元素插到前面出现的元素的后面，这样就保证原有的前后顺序不变。
如果原来数组有序，我们不需要任何的搬移操作。如果从尾部到头在有序数组中查找位置，只需要比较一个数据
就可以找到插入的位置。所以这种情况下，最好的时间复杂度是O(n)。
如果数组是逆序的，每次插入都是在数组一个位置，需要大量的移动操作，这个时候的时间复杂度是O(n^2)。
那么平均时间复杂度呢，数组的插入操作的平均时间复杂度是O(n)，对于插入排序，每次插入操作相当于在
数组中插入一个元素，循环n次，所以插入排序的平均时间复杂度是O(n^2)。

3.选择排序，思路和插入排序类似，也是将数组分为已排序区间和未排序区间，每次循环都是从未排序区间中
选最小的插到已排序区间的末尾。
选择排序也是原地排序算法，但是选择排序无法保证稳定性。

#
冒泡排序和插入排序谁更优？
冒泡排序交换的次数和插入排序移动的次数都等于数组的逆序度。但是冒泡排序的交换操作比插入排序的移动
操作更复杂，交换有3个赋值操作，移动仅有一个赋值操作，极客时间的作者做过实验，表明插入排序效率比
冒泡排序更优；
