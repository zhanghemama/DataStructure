极客时间学习笔记之跳表

#  跳表是链表加索引的结构
![](https://github.com/zhanghemama/DataStructure/blob/master/skipList.png)
如上图所示，每两个结点会抽出一个结点作为上一级索引的结点，那么第一级索引大约有n/2个结点，第二级有n/4，第三级有n/8，依次类推第k级索引有n/2^k个结点，k=logn-1（假设k级有2个结点）。我们在跳表中查找一个值的时候，每一级需要遍历m个结点，那在跳表中查询一个值的时间复杂度就是O(m*logn)，那么m是多少？假设我们查找一个在Y与Z之间的值，我们从最顶层的X Down到第k层的X，然后遍历第k层的Y，再Down到k-1层的Y，然后找到要找的元素。遍历元素最多的是第k层，3个元素。所以m=3，在跳表中查找一个值的时间复杂度就是O(logn)。

# 跳表的空间复杂度
原始连标的大小是n，第一级索引是n/2，第二级索引是n/4，第三级是n/8，。。。，等比数列求和为n-2，跳表的空间复杂度是
O(n)。如果每三个结点抽取一个结点作为上一级的索引，那么等比数列求和为n/2，空间复杂度仍然为O(n)。

# 跳表索引的动态更新
作为一种动态数据结构，我们需要维护索引与原始链表大小之间的平衡，链表中结点多了，索引结点就相应的增加一些，避免复杂度退化。这个我们采用的是随机函数来决定将新结点插入到哪几层索引中。具体实现可以参考实现代码。

# 小结
跳表使用空间换时间的设计思路，通过构建索引来提高查询效率，实现了基于链表的二分查找；跳表是一种动态数据结构，支持快速插入，查找，时间复杂度都是O(logn)，空间复杂度是O(n)。
